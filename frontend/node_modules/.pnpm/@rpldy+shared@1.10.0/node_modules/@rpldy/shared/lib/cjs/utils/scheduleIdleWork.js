"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _hasWindow = _interopRequireDefault(require("./hasWindow"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const supportsIdle = (0, _hasWindow.default)() && window.requestIdleCallback;
const scheduler = supportsIdle ? window.requestIdleCallback : setTimeout;
const clear = supportsIdle ? window.cancelIdleCallback : clearTimeout;
const scheduleIdleWork = (fn, timeout = 0) => {
  const handler = scheduler(fn, supportsIdle ? {
    timeout
  } : timeout);
  return () => clear(handler);
};
var _default = exports.default = scheduleIdleWork;